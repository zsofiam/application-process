{% extends "layout.html" %}

{% block page_title %}
    Applicants
{% endblock %}

{% block content %}
    <div>
        <table>
            <tr>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Phone Number</th>
                <th>E-mail</th>
                <th>Application Code</th>
            </tr>
            {% for applicant in applicants %}
            <tr>
                <td>{{ applicant["first_name"] }}</td>
                <td>{{ applicant["last_name"] }}</td>
                <td>{{ applicant["phone_number"] }}</td>
                <td>{{ applicant["email"] }}</td>
                <td><a href= "/applicant/{{ applicant.get('application_code') }}">{{ applicant["application_code"] }}</a></td>
                <td>
                    <form id="delete-applicant" action="/applicants/{{ applicant.get('application_code') }}/delete" method="post">
                        <a href="javascript:confirmDeletion()">Delete Applicant</a>
                    </form>
            </tr>
            {% endfor %}
        </table>
    </div>

    {% include 'footer.html' %}
    <script>
        function confirmDeletion() {
            if (confirm("Are you sure?") === true){
                document.getElementById("delete-applicant").submit();
            }
        }
    </script>
{% endblock %}
